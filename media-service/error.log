{"level":"error","message":"ReferenceError: upload is not defined\n    at handleMulterError (D:\\NODEJS\\Myproject\\media-service\\src\\middlewares\\multer-error-middleware.js:5:5)\n    at Layer.handleRequest (D:\\NODEJS\\Myproject\\media-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (D:\\NODEJS\\Myproject\\media-service\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (D:\\NODEJS\\Myproject\\media-service\\node_modules\\router\\lib\\route.js:117:3)\n    at handle (D:\\NODEJS\\Myproject\\media-service\\node_modules\\router\\index.js:435:11)\n    at Layer.handleRequest (D:\\NODEJS\\Myproject\\media-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at D:\\NODEJS\\Myproject\\media-service\\node_modules\\router\\index.js:295:15\n    at processParams (D:\\NODEJS\\Myproject\\media-service\\node_modules\\router\\index.js:582:12)\n    at next (D:\\NODEJS\\Myproject\\media-service\\node_modules\\router\\index.js:291:5)\n    at Function.handle (D:\\NODEJS\\Myproject\\media-service\\node_modules\\router\\index.js:186:3)","service":"user-service","timestamp":"2025-10-10T08:34:00.436Z"}
{"level":"error","message":"Error creating media Cannot read properties of undefined (reading 'userId')","service":"user-service","stack":"TypeError: Cannot read properties of undefined (reading 'userId')\n    at mediaUpload (D:\\NODEJS\\Myproject\\media-service\\src\\controllers\\media-controller.js:19:33)\n    at Layer.handleRequest (D:\\NODEJS\\Myproject\\media-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (D:\\NODEJS\\Myproject\\media-service\\node_modules\\router\\lib\\route.js:157:13)\n    at D:\\NODEJS\\Myproject\\media-service\\src\\middlewares\\multer-error-middleware.js:36:9\n    at done (D:\\NODEJS\\Myproject\\media-service\\node_modules\\multer\\lib\\make-middleware.js:59:7)\n    at indicateDone (D:\\NODEJS\\Myproject\\media-service\\node_modules\\multer\\lib\\make-middleware.js:63:68)\n    at Multipart.<anonymous> (D:\\NODEJS\\Myproject\\media-service\\node_modules\\multer\\lib\\make-middleware.js:187:7)\n    at Multipart.emit (node:events:518:28)\n    at emitCloseNT (node:internal/streams/destroy:148:10)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)","timestamp":"2025-10-10T08:37:23.858Z"}
{"_message":"Media validation failed","errors":{"userId":{"kind":"required","message":"Path `userId` is required.","name":"ValidatorError","path":"userId","properties":{"message":"Path `userId` is required.","path":"userId","type":"required"}}},"level":"error","message":"Error creating media Media validation failed: userId: Path `userId` is required.","service":"user-service","stack":"ValidationError: Media validation failed: userId: Path `userId` is required.\n    at Document.invalidate (D:\\NODEJS\\Myproject\\media-service\\node_modules\\mongoose\\lib\\document.js:3362:32)\n    at D:\\NODEJS\\Myproject\\media-service\\node_modules\\mongoose\\lib\\document.js:3123:17\n    at D:\\NODEJS\\Myproject\\media-service\\node_modules\\mongoose\\lib\\schemaType.js:1417:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-10-10T08:48:16.478Z"}
{"_message":"Media validation failed","errors":{"userId":{"kind":"required","message":"Path `userId` is required.","name":"ValidatorError","path":"userId","properties":{"message":"Path `userId` is required.","path":"userId","type":"required"}}},"level":"error","message":"Error creating media Media validation failed: userId: Path `userId` is required.","service":"user-service","stack":"ValidationError: Media validation failed: userId: Path `userId` is required.\n    at Document.invalidate (D:\\NODEJS\\Myproject\\media-service\\node_modules\\mongoose\\lib\\document.js:3362:32)\n    at D:\\NODEJS\\Myproject\\media-service\\node_modules\\mongoose\\lib\\document.js:3123:17\n    at D:\\NODEJS\\Myproject\\media-service\\node_modules\\mongoose\\lib\\schemaType.js:1417:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-10-10T08:50:35.190Z"}
{"_message":"Media validation failed","errors":{"userId":{"kind":"required","message":"Path `userId` is required.","name":"ValidatorError","path":"userId","properties":{"message":"Path `userId` is required.","path":"userId","type":"required"}}},"level":"error","message":"Error creating media Media validation failed: userId: Path `userId` is required.","service":"user-service","stack":"ValidationError: Media validation failed: userId: Path `userId` is required.\n    at Document.invalidate (D:\\NODEJS\\Myproject\\media-service\\node_modules\\mongoose\\lib\\document.js:3362:32)\n    at D:\\NODEJS\\Myproject\\media-service\\node_modules\\mongoose\\lib\\document.js:3123:17\n    at D:\\NODEJS\\Myproject\\media-service\\node_modules\\mongoose\\lib\\schemaType.js:1417:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-10-10T08:51:01.422Z"}
{"level":"error","message":"ReferenceError: error is not defined\n    at getAllMedias (D:\\NODEJS\\Myproject\\media-service\\src\\controllers\\media-controller.js:65:43)\n    at Layer.handleRequest (D:\\NODEJS\\Myproject\\media-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (D:\\NODEJS\\Myproject\\media-service\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (D:\\NODEJS\\Myproject\\media-service\\node_modules\\router\\lib\\route.js:117:3)\n    at handle (D:\\NODEJS\\Myproject\\media-service\\node_modules\\router\\index.js:435:11)\n    at Layer.handleRequest (D:\\NODEJS\\Myproject\\media-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at D:\\NODEJS\\Myproject\\media-service\\node_modules\\router\\index.js:295:15\n    at processParams (D:\\NODEJS\\Myproject\\media-service\\node_modules\\router\\index.js:582:12)\n    at next (D:\\NODEJS\\Myproject\\media-service\\node_modules\\router\\index.js:291:5)\n    at Function.handle (D:\\NODEJS\\Myproject\\media-service\\node_modules\\router\\index.js:186:3)","service":"user-service","timestamp":"2025-10-10T08:54:30.121Z"}
